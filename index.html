<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Validator.js by MinJieLiu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Validator.js</h1>
      <h2 class="project-tagline">JavaScript表单验证，字符串验证</h2>
      <a href="https://github.com/MinJieLiu/validator.js" class="btn">View on GitHub</a>
      <a href="https://github.com/MinJieLiu/validator.js/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/MinJieLiu/validator.js/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="validatorjs" class="anchor" href="#validatorjs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>validator.js</h1>

<p><a href="https://travis-ci.org/MinJieLiu/validator.js"><img src="https://travis-ci.org/MinJieLiu/validator.js.svg?branch=master" alt="Build Status"></a>
<a href="https://badge.fury.io/js/validate-framework"><img src="https://badge.fury.io/js/validate-framework.svg" alt="npm version"></a></p>

<p>validator.js 是一个轻量级 JavaScript 表单、字符串验证库</p>

<p>Demo： <a href="http://minjieliu.github.io/validator.js/example">http://minjieliu.github.io/validator.js/example</a></p>

<h2>
<a id="特性" class="anchor" href="#%E7%89%B9%E6%80%A7" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>特性</h2>

<ol>
<li>轻量级</li>
<li>无依赖</li>
<li>表单验证</li>
<li>字符串验证</li>
<li>易扩展</li>
<li>支持 chrome 、firfox 、IE6 +</li>
</ol>

<h2>
<a id="快速上手" class="anchor" href="#%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>快速上手</h2>

<p>通过 <code>bower</code> 安装</p>

<pre><code>bower install validate-framework
</code></pre>

<p>通过 <code>npm</code> 安装</p>

<pre><code>npm install validate-framework
</code></pre>

<p>表单验证：</p>

<div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">form</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>validate_form<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">for</span>=<span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span>&gt;邮箱：&lt;/<span class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">input</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-control<span class="pl-pds">"</span></span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span> <span class="pl-e">placeholder</span>=<span class="pl-s"><span class="pl-pds">"</span>请输入邮箱<span class="pl-pds">"</span></span> /&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-group<span class="pl-pds">"</span></span>&gt;
        &lt;<span class="pl-ent">label</span> <span class="pl-e">for</span>=<span class="pl-s"><span class="pl-pds">"</span>phone<span class="pl-pds">"</span></span>&gt;手机：&lt;/<span class="pl-ent">label</span>&gt;
        &lt;<span class="pl-ent">input</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>form-control<span class="pl-pds">"</span></span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>phone<span class="pl-pds">"</span></span> <span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>phone<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>text<span class="pl-pds">"</span></span> <span class="pl-e">placeholder</span>=<span class="pl-s"><span class="pl-pds">"</span>请输入手机号<span class="pl-pds">"</span></span> /&gt;
    &lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">input</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>btn btn-primary<span class="pl-pds">"</span></span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>submit<span class="pl-pds">"</span></span> <span class="pl-e">type</span>=<span class="pl-s"><span class="pl-pds">"</span>submit<span class="pl-pds">"</span></span> <span class="pl-e">value</span>=<span class="pl-s"><span class="pl-pds">"</span>提交<span class="pl-pds">"</span></span> /&gt;
&lt;/<span class="pl-ent">form</span>&gt;</pre></div>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> validator <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Validator</span>(<span class="pl-s"><span class="pl-pds">'</span>validate_form<span class="pl-pds">'</span></span>, {
    fields<span class="pl-k">:</span> {
        email<span class="pl-k">:</span> {
            rules<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>required | is_email | max_length(32)<span class="pl-pds">'</span></span>,
            messages<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>不能为空 | 请输入合法邮箱 | 不能超过 {{param}} 个字符<span class="pl-pds">"</span></span>
        },
        phone<span class="pl-k">:</span> {
            rules<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>is_phone<span class="pl-pds">'</span></span>,
            messages<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>手机号： {{value}} 不合法<span class="pl-pds">"</span></span>
        }
    },
    <span class="pl-c">// 参数：errorEl 错误信息节点，fieldEl 出现错误的表单节点</span>
    <span class="pl-en">errorPlacement</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">errorEl</span>, <span class="pl-smi">fieldEl</span>) {
        <span class="pl-c">// 错误位置</span>
    },
    <span class="pl-en">callback</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-c1">event</span>, <span class="pl-smi">errors</span>) {
        <span class="pl-c">// 阻止表单提交</span>
        <span class="pl-smi">validator</span>.<span class="pl-en">preventSubmit</span>();
        <span class="pl-c">// 回调函数</span>
    }
});</pre></div>

<p>字符串验证：</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// 返回布尔值</span>
<span class="pl-k">var</span> v <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Validator</span>();
<span class="pl-smi">v</span>.<span class="pl-en">isEmail</span>(<span class="pl-s"><span class="pl-pds">'</span>example@qq.com<span class="pl-pds">'</span></span>);
<span class="pl-smi">v</span>.<span class="pl-en">isIp</span>(<span class="pl-s"><span class="pl-pds">'</span>192.168.1.1<span class="pl-pds">'</span></span>);
<span class="pl-smi">v</span>.<span class="pl-en">isPhone</span>(<span class="pl-s"><span class="pl-pds">'</span>170111222231<span class="pl-pds">'</span></span>);
<span class="pl-smi">v</span>.<span class="pl-en">lessThan</span>(<span class="pl-s"><span class="pl-pds">'</span>11<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>22<span class="pl-pds">'</span></span>);
<span class="pl-smi">v</span>.<span class="pl-en">greaterThanDate</span>(<span class="pl-s"><span class="pl-pds">'</span>2010-01-02<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>2010-01-01<span class="pl-pds">'</span></span>);</pre></div>

<h2>
<a id="表单验证说明文档" class="anchor" href="#%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>表单验证说明文档</h2>

<blockquote>
<p>new Validator(formName, options)</p>
</blockquote>

<h3>
<a id="参数可选无参为字符串验证" class="anchor" href="#%E5%8F%82%E6%95%B0%E5%8F%AF%E9%80%89%E6%97%A0%E5%8F%82%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%AA%8C%E8%AF%81" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>参数（可选，无参为字符串验证）</h3>

<p><strong><code>formName</code></strong> （必需） 是标签中 <code>&lt;form&gt;</code> 中的 <code>id</code> 或者 <code>name</code> 的值</p>

<p><strong><code>options</code></strong> （必需） 是 Validator 的第二个参数</p>

<ul>
<li>
<code>fields</code> 表单验证域 <code>rules</code> 和 <code>messages</code> 集合</li>
<li>
<code>errorPlacement</code> （可选） 错误信息位置</li>
<li>
<code>callback</code> （可选） 验证成功或失败后回调函数</li>
</ul>

<h3>
<a id="参数详细" class="anchor" href="#%E5%8F%82%E6%95%B0%E8%AF%A6%E7%BB%86" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>参数详细</h3>

<p><strong><code>fields</code></strong> ：</p>

<div class="highlight highlight-source-js"><pre>fields<span class="pl-k">:</span> {
    email<span class="pl-k">:</span> {
        rules<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>required | is_email | max_length(32)<span class="pl-pds">'</span></span>,
        messages<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>不能为空 | 请输入合法邮箱 | 不能超过 {{param}} 个字符<span class="pl-pds">"</span></span>
    },
    phone<span class="pl-k">:</span> {
        rules<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>is_phone<span class="pl-pds">'</span></span>,
        messages<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>手机号： {{value}} 不合法<span class="pl-pds">"</span></span>
    }
}</pre></div>

<p>注： <code>email</code> 、<code>phone</code> 为表单 <code>name</code> 属性<br>
<code>rules</code> ： 一个或多个规则（中间用 <code>|</code> 分隔）<br>
<code>messages</code> ： 相对应的错误提示（中间用 <code>|</code> 分隔） <code>{{value}}</code> 为表单中的 value 值， <code>{{param}}</code> 为 <code>max_length(32)</code> 的参数 <br> （不填写则没有提示）</p>

<p><strong><code>errorPlacement</code></strong> ：</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">errorPlacement</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">errorEl</span>, <span class="pl-smi">fieldEl</span>) {
    <span class="pl-c">// 非 label 、radio 元素</span>
    <span class="pl-k">if</span> (<span class="pl-smi">fieldEl</span>.<span class="pl-c1">parentNode</span> <span class="pl-k">!==</span> <span class="pl-c1">undefined</span>) {
        <span class="pl-smi">fieldEl</span>.<span class="pl-c1">parentNode</span>.<span class="pl-c1">appendChild</span>(errorEl);
    }
},</pre></div>

<p>注： <code>errorEl</code> 为错误信息节点，<code>fieldEl</code> 为出现错误的表单节点
验证失败后 validator.js 会在类似文本框表单中添加 <code>valid-error</code> ， checkbox、radio 中添加 <code>valid-label-error</code> 错误信息中添加 <code>valid-error-message</code> class 类</p>

<p><strong><code>callback</code></strong> ：</p>

<div class="highlight highlight-source-js"><pre><span class="pl-en">callback</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-c1">event</span>, <span class="pl-smi">errors</span>) {
    <span class="pl-c">// 自定义逻辑</span>
    <span class="pl-k">if</span> (errors) {
        <span class="pl-c">// 验证失败逻辑</span>
    }
}</pre></div>

<p>注： <code>event</code> 当前事件<br>
<code>errors</code> 验证失败的表单域对象。表单验证成功， <code>errors</code> 的值为 <code>null</code></p>

<h3>
<a id="方法" class="anchor" href="#%E6%96%B9%E6%B3%95" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>方法</h3>

<p>例如：</p>

<div class="highlight highlight-source-js"><pre><span class="pl-smi">validator</span>.<span class="pl-en">validate</span>();</pre></div>

<p><strong><code>.validate()</code> 手动验证</strong></p>

<p>注： validator.js 默认使用 submit 按钮提交进行拦截验证，可手动调用 <code>.validate()</code> 调用验证 form 所有定义过的元素</p>

<p><strong><code>.validateByName(name)</code> 手动验证单个表单域</strong></p>

<p>注： validator.js 默认使用表单改变事件拦截验证，当使用 js 方法改变表单的值时，可手动调用 <code>.validateByName(name)</code> 进行验证单个域， <code>name</code> 参数为 表单域的 <code>name</code> 属性</p>

<p><strong><code>.preventSubmit()</code> 阻止表单提交</strong></p>

<p><strong><code>.addMethod(name, method)</code> 自定义验证方法</strong></p>

<p>注： 当遇到 validator.js 提供的默认方法无法实现验证的时候，添加<code>.addMethod(name, method)</code>方法进行扩展<br>
<code>name</code> 为校验名称，格式： is_date<br>
<code>method</code> 为自定义方法</p>

<p>如：</p>

<div class="highlight highlight-source-js"><pre><span class="pl-c">// checkbox 至少选择两项 方法</span>
<span class="pl-c">// 扩展内部验证方法 field: 验证域， param: 参数 如 select_limit(2)</span>
<span class="pl-smi">validator</span>.<span class="pl-en">addMethod</span>(<span class="pl-s"><span class="pl-pds">'</span>select_limit<span class="pl-pds">'</span></span>, <span class="pl-k">function</span>(<span class="pl-smi">field</span>, <span class="pl-smi">param</span>) {
    <span class="pl-c">// checkbox 至少选择两项</span>
    <span class="pl-k">var</span> checkedNum <span class="pl-k">=</span> <span class="pl-c1">0</span>;
    <span class="pl-k">for</span> (<span class="pl-k">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>, elLength <span class="pl-k">=</span> <span class="pl-smi">field</span>.<span class="pl-smi">el</span>.<span class="pl-c1">length</span>; i <span class="pl-k">&lt;</span> elLength; i<span class="pl-k">++</span>) {
        <span class="pl-k">if</span> (<span class="pl-smi">field</span>.<span class="pl-smi">el</span>[i].<span class="pl-c1">checked</span>) {
            checkedNum <span class="pl-k">+=</span> <span class="pl-c1">1</span>;
        }
    }
    <span class="pl-k">return</span> checkedNum <span class="pl-k">&gt;=</span> param;
});</pre></div>

<h2>
<a id="字符串验证说明文档" class="anchor" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%AA%8C%E8%AF%81%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>字符串验证说明文档</h2>

<p>如：</p>

<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> v <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Validator</span>();
<span class="pl-smi">v</span>.<span class="pl-en">isEmail</span>(<span class="pl-s"><span class="pl-pds">'</span>example@qq.com<span class="pl-pds">'</span></span>);
<span class="pl-smi">v</span>.<span class="pl-en">isPhone</span>(<span class="pl-s"><span class="pl-pds">'</span>170111222231<span class="pl-pds">'</span></span>);</pre></div>

<ul>
<li>[x] required(param)  验证必填</li>
<li>[x] isAbc(param)  验证字母数字下划线</li>
<li>[x] isDate(param)  验证日期</li>
<li>[x] isDecimal(param)  验证浮点数</li>
<li>[x] isEmail(param)  验证邮箱</li>
<li>[x] isInteger(param)  验证整数</li>
<li>[x] isIp(param)  验证 ip 地址</li>
<li>[x] isNumeric(param)  验证自然数</li>
<li>[x] isPhone(param)  验证手机</li>
<li>[x] isTel(param)  验证座机</li>
<li>[x] isUrl(param)  验证URL</li>
<li>[x] maxLength(param, length)  最大长度</li>
<li>[x] minLength(param, length)  最小长度</li>
<li>[x] greaterThan(param1, param2)  多于某个数</li>
<li>[x] lessThan(param1, param2)  少于某个数</li>
<li>[x] greaterThanDate(date1, date2)  大于某个日期</li>
<li>[x] lessThanDate(date1, date2)  小于某个日期</li>
</ul>

<p>验证方法不够？ <code>.addMethod(name, method)</code> 添加自定义验证方法（与表单验证自定义方法类似）</p>

<h2>
<a id="备注" class="anchor" href="#%E5%A4%87%E6%B3%A8" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>备注</h2>

<p>validator.js 只包含验证实现，不包括 UI，因此 UI 部分可以自由发挥<br>
因注重结构和逻辑分离，validator.js 暂不考虑将验证表达式加入 html 结构中，以保持良好的可维护性<br>
validator.js 不依赖 jQuery 及其他类库，可结合 jQuery 及其他类库使用</p>

<h2>
<a id="规范" class="anchor" href="#%E8%A7%84%E8%8C%83" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>规范</h2>

<p>validator.js 采用 <code>eslint</code> 来保持代码的正确性和可读性，详情见 <code>.eslintrc</code> 文件</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LICENSE</h2>

<p>MIT</p>

<h2>
<a id="参考" class="anchor" href="#%E5%8F%82%E8%80%83" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>参考</h2>

<p><a href="https://github.com/jaywcjlove/validator.js">https://github.com/jaywcjlove/validator.js</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/MinJieLiu/validator.js">Validator.js</a> is maintained by <a href="https://github.com/MinJieLiu">MinJieLiu</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
