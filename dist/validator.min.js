/*! validate-framework v1.4.2 | MIT (c) 2016 LMY | https://github.com/MinJieLiu/validator.js */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Validator=e()}}(function(){function e(e){return e.replace(/\_([a-z])/g,function(e,t){return t.toUpperCase()})}function t(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function r(e,r){t(e,r)||(e.classList?e.classList.add(r):e.className+=" "+r)}function n(e,r){if(t(e,r)){var n=new RegExp("(\\s|^)"+r+"(\\s|$)");e.classList?e.classList.remove(r):e.className=e.className.replace(n," ")}}function i(e){return e&&e.length&&"radio"!==e[0].type&&"checkbox"!==e[0].type&&"OPTION"!==e[0].tagName}function s(e){return e&&e.length&&("radio"===e[0].type||"checkbox"===e[0].type)}function a(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].checked)return e[r][t];return e[t]}function l(e){return"object"==typeof e?e:document.forms[e]}function o(e){if(!c.is_date(e))return!1;var t,r=new Date;return t=e.split("-"),r.setFullYear(t[0]),r.setMonth(t[1]-1),r.setDate(t[2]),r}function u(e){return"string"==typeof e?e:e.value}var d={rule:/^(.+?)\((.+)\)$/,numeric:/^[0-9]+$/,integer:/^\-?[0-9]+$/,decimal:/^\-?[0-9]*\.?[0-9]+$/,email:/^[\w!#$%&'*+\/=?^_`{|}~-]+(?:\.[\w!#$%&'*+\/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?$/,ip:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])((\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){3}|(\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){5})$/,tel:/^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,phone:/^1[3-9]\d{9}$/,abc:/^[a-zA-Z0-9_]*$/,url:/[a-zA-Z]+:\/\/[^\s]*/,date:/^\d{4}-\d{1,2}-\d{1,2}$/},c={is_numeric:function(e){return d.numeric.test(u(e))},is_integer:function(e){return d.integer.test(u(e))},is_decimal:function(e){return d.decimal.test(u(e))},is_email:function(e){return d.email.test(u(e))},is_ip:function(e){return d.ip.test(u(e))},is_tel:function(e){return d.tel.test(u(e))},is_phone:function(e){return d.phone.test(u(e))},is_abc:function(e){return d.abc.test(u(e))},is_url:function(e){return d.url.test(u(e))},is_date:function(e){var t=u(e);if(d.date.test(t)){t=t.split("-");var r=parseInt(t[0],10),n=parseInt(t[1],10),i=parseInt(t[2],10);if(1>r||r>9999||1>n||n>12)return!1;var s=[31,28,31,30,31,30,31,31,30,31,30,31];return(r%400===0||r%100!==0&&r%4===0)&&(s[1]=29),!(1>i||i>s[n-1])}return!1},required:function(e){return"checkbox"===e.type||"radio"===e.type?e.checked===!0:null!==u(e)&&""!==u(e)},greater_than:function(e,t){var r=u(e);return d.decimal.test(r)?parseFloat(r)>parseFloat(t):!1},less_than:function(e,t){var r=u(e);return d.decimal.test(r)?parseFloat(r)<parseFloat(t):!1},max_length:function(e,t){return d.integer.test(t)?u(e).length<=parseInt(t,10):!1},min_length:function(e,t){return d.integer.test(t)?u(e).length>=parseInt(t,10):!1},greater_than_date:function(e,t){var r=o(u(e)),n=o(t);return n&&r?r>n:!1},less_than_date:function(e,t){var r=o(u(e)),n=o(t);return n&&r?n>r:!1}},f=function(t,r){for(var n in c)this[e(n)]=c[n];if(this.options=r||{},this.form=t&&l(t),this.errors={},this.fields={},this.handles={},!this.form)return this;var i=r.fields;this.form.setAttribute("novalidate","novalidate"),this._addFields(i);var s=function(e){return function(t){try{t=t||event;var r=t.target||t.srcElement;return e._validateField(e.fields[r.name],r)}catch(n){}}}(this);if(window.ActiveXObject||"ActiveXObject"in window)for(var a=this.form.elements,o=0,u=this.form.length;u>o;o++)this.form[o].onkeyup=s,a[o].onchange=s;else this.form.oninput=s,this.form.onchange=s;var d=this.form.onsubmit;this.form.onsubmit=function(e){return function(t){try{return t=t||event,e.validate(t)&&(void 0===d||d())}catch(r){}}}(this)};return f.prototype={validate:function(e){this.handles.evt=e||event;var t=!0;for(var r in this.fields)this.fields.hasOwnProperty(r)&&(this.validateByName(r)||(t=!1));return t?this.errors=null:this.preventSubmit(),"object"==typeof this.options&&"function"==typeof this.options.callback&&this.options.callback(this.handles.evt,this.errors),t},validateByName:function(e){var t=this.fields[e],r=!1;if(!t)return r;var n=this.form[t.name];if(i(n)){t._multiSuccessed=!0;for(var s=0,a=n.length;a>s;s++)t._multiIndex=s,this._validateField(t);r=t._multiSuccessed}else r=this._validateField(t);return r},preventSubmit:function(){var e=this.handles.evt;return e&&e.preventDefault?e.preventDefault():e&&(e.returnValue=!1),this},addMethod:function(t,r){return c[t]=r,this[e(t)]=c[t],this},addFields:function(e){return"object"==typeof e&&this._addFields(e),this},removeFields:function(e){if(e instanceof Array)for(var t in e)this.fields[e[t]]&&(delete this.fields[e[t]],this.errors&&delete this.errors[e[t]]);else e&&this.fields[e]&&(delete this.fields[e],this.errors&&delete this.errors[e]);return this},_addFields:function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!r.rules){console.warn(r);continue}this.fields[t]={name:t,messages:r.messages,rules:r.rules,id:null,el:null,type:null,value:null,checked:null}}},_validateField:function(e,t){var r=this.form[e.name],n=!0;this.errors=this.errors||{};var l,o=this.errors[e.name];r&&void 0!==r?(e.id=a(r,"id"),e.el=r,e.type=r.length>0?r[0].type:r.type,e.value=a(r,"value"),e.checked=a(r,"checked")):(e.el=null,e.type=null,e.value=null,e.checked=null);for(var u=-1!==e.rules.indexOf("required"),f=!e.value||""===e.value||void 0===e.value,h=e.rules.split(/\s*\|\s*/g),m=0,v=h.length;v>m&&n;m++){var p=h[m],g=d.rule.exec(p),_="";if(g&&(p=g[1],_=g[2]),!r||u||!f){if(i(r)){for(var y=0,b=r.length;b>y;y++)t&&t===r[y]&&(l=y);void 0===l&&(l=e._multiIndex),e.el=r[l],e.value=a(r[l],"value")}"function"==typeof c[p]&&(c[p].apply(this,[e,_])||(n=!1));var w,F;e.el&&(w=s(r)?"valid-label-error":"valid-error",F="valid_error_"+e.name+"_"+(void 0!==l?l:"0")),this.errors[e.name]={el:e.el,name:e.name,rule:p,errorClass:w,messageId:F},n||(this.errors[e.name].message=function(){var t=e.messages?e.messages.split(/\s*\|\s*/g)[m]:"",r=e.value&&e.value.replace(/</g,"&lt;").replace(/>/g,"&gt;");return t?t.replace(/\{\{\s*value\s*\}\}/g,r).replace(/\{\{\s*param\s*\}\}/g,_):t}(),i(r)&&(e._multiSuccessed=!1)),o=this.errors[e.name]}}return e.el?(n?(this._removeErrorMessage(o),i(r)?e._multiSuccessed&&delete this.errors[e.name]:delete this.errors[e.name]):this._addErrorPlacement(o),n):n},_removeErrorMessage:function(e){if(e&&e.el){if(e.el.length)for(var t=0,r=e.el.length;r>t;t++)n(e.el[t],e.errorClass);else n(e.el,e.errorClass);var i=document.getElementById(e.messageId);i&&i.parentNode.removeChild(i)}},_addErrorPlacement:function(e){if(e&&e.el){if(this._removeErrorMessage(e),e.el.length)for(var t=0,n=e.el.length;n>t;t++)r(e.el[t],e.errorClass);else r(e.el,e.errorClass);var i=document.createElement("em");r(i,e.errorClass+"-message"),i.setAttribute("id",e.messageId),i.innerHTML=e.message,"object"==typeof this.options&&"function"==typeof this.options.errorPlacement?this.options.errorPlacement(i,e.el):e.el.length||e.el.parentNode.appendChild(i)}}},f});

