/*! validator.js v1.0.1 | Apache License 2 (c) 2016 LMY | https://github.com/MinJieLiu/validator.js */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Validator=e()}}(function(){function e(e){return e.replace(/\_([a-z])/g,function(e,t){return t.toUpperCase()})}function t(e,t){var n,r;{if(!(e.length>0)||"radio"!==e[0].type&&"checkbox"!==e[0].type)return e[t];for(n=0,r=e.length;r>n;n++)if(e[n].checked)return e[n][t]}}function n(e,t,n){e.fields[n]={name:n,display:t.display||n,rules:t.rules,id:null,el:null,type:null,value:null,checked:null}}function r(e){return"object"==typeof e?e:document.forms[e]}function i(e){return"string"==typeof e?e:e.value}var s={rule:/^(.+?)\((.+)\)$/,numeric:/^[0-9]+$/,email:/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,ip:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])((\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){3}|(\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){5})$/,tel:/^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,phone:/^((\+?[0-9]{1,4})|(\(\+86\)))?(13[0-9]|14[57]|15[012356789]|17[0678]|18[0-9])\d{8}$/,abc:/^[a-zA-Z0-9_]*$/,url:/[a-zA-z]+:\/\/[^\s]/,date:/^\d{4}-\d{1,2}-\d{1,2}$/},a={is_email:function(e){return s.email.test(i(e))},is_ip:function(e){return s.ip.test(i(e))},is_tel:function(e){return s.tel.test(i(e))},is_phone:function(e){return s.phone.test(i(e))},is_abc:function(e){return s.abc.test(i(e))},is_url:function(e){return s.url.test(i(e))},is_date:function(e){var t=i(e);if(s.date.test(t)){t=t.split("-");var n=parseInt(t[0],10),r=parseInt(t[1],10),a=parseInt(t[2],10);if(1>n||n>9999||1>r||r>12)return!1;var l=[31,28,31,30,31,30,31,31,30,31,30,31];return(n%400===0||n%100!==0&&n%4===0)&&(l[1]=29),!(1>a||a>l[r-1])}return!1},required:function(e){var t=i(e);return"checkbox"===e.type||"radio"===e.type?e.checked===!0:null!==t&&""!==t},max_length:function(e,t){return s.numeric.test(t)?i(e).length<=parseInt(t,10):!1},min_length:function(e,t){return s.numeric.test(t)?i(e).length>=parseInt(t,10):!1}},l=function(t,i,s){for(var l in a)this[e(l)]=a[l];if(this.callback=s||function(){},this.form=r(t)||{},this.errors=[],this.fields={},this.handles={},!t)return this;for(var u=0,o=i.length;o>u;u++){var f=i[u];if((f.name||f.names)&&f.rules)if(f.names)for(var d=0,c=f.names.length;c>d;d++)n(this,f,f.names[d]);else n(this,f,f.name);else console.warn(f)}this.form.onchange=function(e){return function(t){try{return e.validateField(e.fields[t.target.name])}catch(n){}}}(this);var h=this.form.onsubmit;this.form.onsubmit=function(e){return function(t){try{return e.validate(t)&&(void 0===h||h())}catch(n){}}}(this)};return l.prototype={validate:function(e){this.handles.ok=!0,this.handles.evt=e,this.errors=[];for(var t in this.fields)if(this.fields.hasOwnProperty(t)){var n=this.fields[t]||{};this.validateField(n)}return this.errors.length>0&&(e&&e.preventDefault?e.preventDefault():event&&(event.returnValue=!1)),this},validateField:function(e){var n=this.form[e.name];n&&void 0!==n&&(e.id=t(n,"id"),e.el=n,e.type=n.length>0?n[0].type:n.type,e.value=t(n,"value"),e.checked=t(n,"checked"));for(var r=e.rules.split(/\s*\|\s*/g),i=0,l=r.length;l>i;i++){var u=r[i],o=s.rule.exec(u),f=null,d=!1;if(o&&(u=o[1],f=o[2]),"function"==typeof a[u]&&(a[u].apply(this,[e,f])||(d=!0)),d){for(var c,h=function(){return e.display.split(/\s*\|\s*/g)[i]&&e.display.split(/\s*\|\s*/g)[i].replace("{{"+e.name+"}}",e.value)}(),p=0,v=this.errors.length;v>p;p+=1)e.el===this.errors[p].el&&(c=this.errors[p]);var m=c||{id:e.id,display:e.display,el:e.el,name:e.name,message:h,messages:[],rule:u};m.messages.push(h),c||this.errors.push(m)}}return"function"==typeof this.callback&&this.callback(this,this.handles.evt),this}},l});

