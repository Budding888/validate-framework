!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("validator",[],t):"object"==typeof exports?exports.validator=t():e.validator=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),i=n(a);t["default"]=i["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(2),s=r(3),o=n(s),d=function(){function e(t){a(this,e);for(var r in o["default"])this[r]=o["default"][r];return t?(this._default={prefix:"valid",errorEl:"em",eventLevel:"all"},this.opts=(0,l.extend)(this._default,t),this.form={},this.bodyData=t.bodyData,this.errors={},this.fields={},this.handles={},this.addFields(this.opts.fields),(0,l.isBrowser)()&&this.opts.formName&&(this.form=document.forms[this.opts.formName],this.form.setAttribute("novalidate","novalidate"),this.onInputEvent(),this._onSubmit()),this):this}return u(e,[{key:"validate",value:function(e){this.handles.evt=(0,l.getCurrentEvent)(e);var t=!0,r=this.fields;for(var n in r)this.validateByName(n)||(t=!1);return t?this.errors=null:this.preventSubmit(),"function"==typeof this.opts.callback&&this.opts.callback(this.errors,this.handles.evt),t}},{key:"validateByName",value:function(e){var t=this.fields[e],r=!1;if(!t)return r;var n=this._getArrayByName(t.name);if((0,l.isSameNameField)(n)){for(var a=!0,i=0,u=n.length;i<u;i++)t.el=[n[i]],this._validateField(t)||(a=!1);r=a}else t.el=n,r=this._validateField(t);return r}},{key:"preventSubmit",value:function(){var e=this.handles.evt;return e&&e.preventDefault?e.preventDefault():e&&(e.returnValue=!1),this}},{key:"addMethod",value:function(e,t){return"function"==typeof t&&(o["default"][e]=t,this[e]=t),this}},{key:"addFields",value:function(e){if("object"===("undefined"==typeof e?"undefined":i(e)))for(var t in e){var r=e[t];r.rules&&(r.name=t,(0,l.initField)(r),this.fields[t]=r)}return this}},{key:"removeFields",value:function(e){if(e instanceof Array)for(var t=0,r=e.length;t<r;t++)this.fields&&delete this.fields[e[t]],this.errors&&delete this.errors[e[t]];return this}},{key:"onInputEvent",value:function(e,t){for(var r=function(e){return function(t){try{var r=(0,l.getCurrentEvent)(t),n=r.target||r.srcElement,a=e.fields[n.name];return a.el=e._getArrayByName(a.name),e._validateField(a)}catch(i){return null}}}(this),n=e?this._getArrayByName(e):this.form.elements,a=0,i=n.length;a<i;a++){var u=void 0,s=void 0,o=function(){},d=t||this.opts.eventLevel;switch(d){case"off":u=o,s=o;break;case"change":u=o,s=r;break;case"all":u=r,s=r}var f=n[a];window.ActiveXObject||"ActiveXObject"in window?f.onkeyup=u:f.oninput=u,f.onchange=s}return this}},{key:"_onSubmit",value:function(){var e=this.form.onsubmit;this.form.onsubmit=function(t){return function(r){try{var n=(0,l.getCurrentEvent)(r);return t.validate(n)&&(void 0===e||e())}catch(a){return null}}}(this)}},{key:"_validateField",value:function(e){var t=this,r=!0;this.errors=this.errors||{};var n=this.errors[e.name];this._updateField(e);var a=e.rules.indexOf("required")!==-1,i=void 0===e.value||""===e.value||null===e.value,u=e.rules.split(/\s*\|\s*/g),l=function(l,s){if(!r)return"break";var d=u[l],f=/^(.+?)\((.+)\)$/.exec(d),c="";return f&&(d=f[1],c=f[2]),!a&&i?"continue":("function"==typeof o["default"][d]&&(o["default"][d].apply(t,[e,c])||(r=!1)),t.errors[e.name]={el:e.el,name:e.name,rule:d},r||(t.errors[e.name].message=function(){var t=e.messages?e.messages.split(/\s*\|\s*/g)[l]:"";return t?t.replace(/\{\{\s*value\s*\}\}/g,e.value).replace(/\{\{\s*param\s*\}\}/g,c):t}()),void(n=t.errors[e.name]))};e:for(var s=0,d=u.length;s<d;s++){var f=l(s,d);switch(f){case"break":break e;case"continue":continue}}if(r&&delete this.errors[e.name],!e.el)return r;if(n){var c=this.opts.prefix+"-error";n.clazz=c,n.placeId=(c+"_"+(e.id||e.name)).replace("-","_"),r?this._removeErrorPlace(n):this._addErrorPlace(n)}return r}},{key:"_updateField",value:function(e){if(this.bodyData)return void(e.value=this.bodyData[e.name]);var t=e.el;t?(e.id=t[0].id,e.type=t[0].type,e.value=(0,l.attributeValue)(t,"value"),e.checked=(0,l.attributeValue)(t,"checked")):(0,l.initField)(e)}},{key:"_getArrayByName",value:function(e){if((0,l.isBrowser)()){var t=void 0;if(t=this.opts.formName?this.form[e]:(0,l.getElementsByName)(e),!t||0===t.length)return null;var r=[],n=t.length;if(n&&!(0,l.isSelect)(t))for(var a=0;a<n;a++)r.push(t[a]);else r.push(t);return r}return null}},{key:"_removeErrorPlace",value:function(e){if(e.el){for(var t=0,r=e.el.length;t<r;t++)(0,l.removeClass)(e.el[t],e.clazz),(0,l.addClass)(e.el[t],this.opts.prefix+"-success");var n=document.getElementById(e.placeId);n&&n.parentNode.removeChild(n)}}},{key:"_addErrorPlace",value:function(e){if(e.el){this._removeErrorPlace(e);for(var t=this.opts,r=0,n=e.el.length;r<n;r++)(0,l.removeClass)(e.el[r],t.prefix+"-success"),(0,l.addClass)(e.el[r],e.clazz);var a=document.createElement(t.errorEl);if((0,l.addClass)(a,e.clazz+"-message"),a.setAttribute("id",e.placeId),a.innerText=e.message,"function"==typeof t.errorPlacement)t.errorPlacement(a,e.el[0]);else{var i=e.el[0];(0,l.isRadioOrCheckbox)(i)||i.parentNode.appendChild(a)}}}}]),e}();t["default"]=d},function(e,t){"use strict";function r(e){return"string"==typeof e?e:e.value}function n(e,t){for(var r in t)e[r]=t[r];return e}function a(e){e.id=null,e.el=null,e.type=null,e.value=null,e.checked=null}function i(e){var t=new Date,r=e.split("-");return t.setFullYear(r[0]),t.setMonth(r[1]-1),t.setDate(r[2]),t}function u(){return"undefined"!=typeof window}function l(e){return u()?e||window.event:null}function s(e){return"radio"===e.type||"checkbox"===e.type}function o(e){return"OPTION"===e[0].tagName}function d(e){return e&&e.length&&!s(e[0])&&!o(e)}function f(e){return document.getElementsByName(e)}function c(e,t){if(s(e[0]))for(var r=0,n=e.length;r<n;r++)if(e[r].checked)return e[r][t];return e[0][t]}function v(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function h(e,t){v(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function p(e,t){if(v(e,t)){var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.classList?e.classList.remove(t):e.className=e.className.replace(r," ")}}Object.defineProperty(t,"__esModule",{value:!0}),t.getValue=r,t.extend=n,t.initField=a,t.parseToDate=i,t.isBrowser=u,t.getCurrentEvent=l,t.isRadioOrCheckbox=s,t.isSelect=o,t.isSameNameField=d,t.getElementsByName=f,t.attributeValue=c,t.addClass=h,t.removeClass=p},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),i=n(a),u=r(2),l={isNumeric:function(e){return i["default"].numeric.test((0,u.getValue)(e))},isInteger:function(e){return i["default"].integer.test((0,u.getValue)(e))},isDecimal:function(e){return i["default"].decimal.test((0,u.getValue)(e))},isEmail:function(e){return i["default"].email.test((0,u.getValue)(e))},isIp:function(e){return i["default"].ip.test((0,u.getValue)(e))},isTel:function(e){return i["default"].tel.test((0,u.getValue)(e))},isPhone:function(e){return i["default"].phone.test((0,u.getValue)(e))},isAbc:function(e){return i["default"].abc.test((0,u.getValue)(e))},isUrl:function(e){return i["default"].url.test((0,u.getValue)(e))},isDate:function(e){var t=(0,u.getValue)(e);if(i["default"].date.test(t)){t=t.split("-");var r=parseInt(t[0],10),n=parseInt(t[1],10),a=parseInt(t[2],10);if(r<1||r>9999||n<1||n>12)return!1;var l=[31,28,31,30,31,30,31,31,30,31,30,31];return(r%400===0||r%100!==0&&r%4===0)&&(l[1]=29),!(a<1||a>l[n-1])}return!1},required:function(e){return(0,u.isRadioOrCheckbox)(e)?e.checked===!0:null!==(0,u.getValue)(e)&&""!==(0,u.getValue)(e)},greaterThan:function(e,t){var r=(0,u.getValue)(e);return!!i["default"].decimal.test(r)&&parseFloat(r)>parseFloat(t)},lessThan:function(e,t){var r=(0,u.getValue)(e);return!!i["default"].decimal.test(r)&&parseFloat(r)<parseFloat(t)},maxLength:function(e,t){return!!i["default"].integer.test(t)&&(0,u.getValue)(e).length<=parseInt(t,10)},minLength:function(e,t){return!!i["default"].integer.test(t)&&(0,u.getValue)(e).length>=parseInt(t,10)},greaterThanDate:function(e,t){var r=(0,u.parseToDate)((0,u.getValue)(e)),n=(0,u.parseToDate)(t);return!(!n||!r)&&r>n},lessThanDate:function(e,t){var r=(0,u.parseToDate)((0,u.getValue)(e)),n=(0,u.parseToDate)(t);return!(!n||!r)&&r<n}};t["default"]=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={numeric:/^\d+$/,integer:/^-?\d+$/,decimal:/^-?\d*\.?\d+$/,email:/^[a-zA-Z0-9.!#$%&â€™*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,ip:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])((\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){3}|(\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){5})$/,tel:/^(([0+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,phone:/^1[3-9]\d{9}$/,abc:/^\w+$/,url:/[a-zA-Z]+:\/\/[^\s]*/,date:/^\d{4}-\d{1,2}-\d{1,2}$/};t["default"]=r}])});
//# sourceMappingURL=validator.min.js.map