/*! validate-framework v1.4.2 | MIT (c) 2016 LMY | https://github.com/MinJieLiu/validator.js */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Validator=e()}}(function(){function e(e){return"string"==typeof e?e:e.value}function t(e){if(!f.is_date(e))return!1;var t,r=new Date;return t=e.split("-"),r.setFullYear(t[0]),r.setMonth(t[1]-1),r.setDate(t[2]),r}function r(){return"undefined"!=typeof window}function n(e){return e.replace(/\_([a-z])/g,function(e,t){return t.toUpperCase()})}function i(e){return e&&e.length&&"radio"!==e[0].type&&"checkbox"!==e[0].type&&"OPTION"!==e[0].tagName}function s(e){return e&&e.length&&("radio"===e[0].type||"checkbox"===e[0].type)}function a(e){var t=document.getElementsByName(e);return t?s(t)||i(t)?t:t[0]:null}function l(e,t){var r,n;for(r=0,n=e.length;r<n;r++)if(e[r].checked)return e[r][t];return e[t]}function o(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function u(e,t){o(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function d(e,t){if(o(e,t)){var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.classList?e.classList.remove(t):e.className=e.className.replace(r," ")}}var c={numeric:/^\d+$/,integer:/^\-?\d+$/,decimal:/^\-?\d*\.?\d+$/,email:/^[\w!#$%&'*+\/=?^_`{|}~-]+(?:\.[\w!#$%&'*+\/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?$/,ip:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])((\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){3}|(\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){5})$/,tel:/^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,phone:/^1[3-9]\d{9}$/,abc:/^\w+$/,url:/[a-zA-Z]+:\/\/[^\s]*/,date:/^\d{4}-\d{1,2}-\d{1,2}$/},f={is_numeric:function(t){return c.numeric.test(e(t))},is_integer:function(t){return c.integer.test(e(t))},is_decimal:function(t){return c.decimal.test(e(t))},is_email:function(t){return c.email.test(e(t))},is_ip:function(t){return c.ip.test(e(t))},is_tel:function(t){return c.tel.test(e(t))},is_phone:function(t){return c.phone.test(e(t))},is_abc:function(t){return c.abc.test(e(t))},is_url:function(t){return c.url.test(e(t))},is_date:function(t){var r=e(t);if(c.date.test(r)){r=r.split("-");var n=parseInt(r[0],10),i=parseInt(r[1],10),s=parseInt(r[2],10);if(n<1||n>9999||i<1||i>12)return!1;var a=[31,28,31,30,31,30,31,31,30,31,30,31];return(n%400===0||n%100!==0&&n%4===0)&&(a[1]=29),!(s<1||s>a[i-1])}return!1},required:function(t){return"checkbox"===t.type||"radio"===t.type?t.checked===!0:null!==e(t)&&""!==e(t)},greater_than:function(t,r){var n=e(t);return!!c.decimal.test(n)&&parseFloat(n)>parseFloat(r)},less_than:function(t,r){var n=e(t);return!!c.decimal.test(n)&&parseFloat(n)<parseFloat(r)},max_length:function(t,r){return!!c.integer.test(r)&&e(t).length<=parseInt(r,10)},min_length:function(t,r){return!!c.integer.test(r)&&e(t).length>=parseInt(r,10)},greater_than_date:function(r,n){var i=t(e(r)),s=t(n);return!(!s||!i)&&i>s},less_than_date:function(r,n){var i=t(e(r)),s=t(n);return!(!s||!i)&&i<s}},h=function(e){for(var t in f)this[n(t)]=f[t];if(!e)return this;this.options=e,this.form={},this.body=e.body,this.errors={},this.fields={},this.handles={};var i=e.fields;return this.addFields(i),e.formName&&r()&&(this.form=document.forms[e.formName],this.form.setAttribute("novalidate","novalidate"),this.onInputEvent(),this._onSubmit()),this};return h.prototype={validate:function(e){this.handles.evt=e||event;var t=!0;for(var r in this.fields)this.validateByName(r)||(t=!1);return t?this.errors=null:this.preventSubmit(),"object"==typeof this.options&&"function"==typeof this.options.callback&&this.options.callback(this.handles.evt,this.errors),t},validateByName:function(e){var t=this.fields[e],n=!1;if(!t)return n;var s;if(r()&&(s=this.form[t.name]||a(t.name)),i(s)){for(var l=!0,o=0,u=s.length;o<u;o++)t.el=s[o],this._validateField(t)||(l=!1);n=l}else t.el=s,n=this._validateField(t);return n},preventSubmit:function(){var e=this.handles.evt;return e&&e.preventDefault?e.preventDefault():e&&(e.returnValue=!1),this},addMethod:function(e,t){return f[e]=t,this[n(e)]=f[e],this},addFields:function(e){if("object"==typeof e)for(var t in e){var r=e[t];r.rules&&(this.fields[t]={name:t,messages:r.messages,rules:r.rules,id:null,el:null,type:null,value:null,checked:null})}return this},removeFields:function(e){if(e instanceof Array)for(var t,r=e.length;t<r;t++)this.fields[e[t]]&&(delete this.fields[e[t]],this.errors&&delete this.errors[e[t]]);else e&&this.fields[e]&&(delete this.fields[e],this.errors&&delete this.errors[e]);return this},onInputEvent:function(e,t){for(var r=function(e){return function(t){try{t=t||event;var r=t.el||t.srcElement,n=e.fields[r.name];return n.el=r,e._validateField(n)}catch(i){}}}(this),n=e?document.getElementsByName(e):this.form.elements,i=0,s=n.length;i<s;i++){var a,l,o=function(){};switch(t=t||"all"){case"off":a=o;break;case"change":a=o,l=r;break;case"all":a=r,l=r}var u=n[i];window.ActiveXObject||"ActiveXObject"in window?u.onkeyup=a:u.oninput=a,u.onchange=l}return this},_onSubmit:function(){var e=this.form.onsubmit;this.form.onsubmit=function(t){return function(r){try{return r=r||event,t.validate(r)&&(void 0===e||e())}catch(n){}}}(this)},_validateField:function(e){var t=!0;this.errors=this.errors||{};var r=this.errors[e.name];this._updateField(e);for(var n=e.rules.indexOf("required")!==-1,i=!e.value||""===e.value||void 0===e.value,a=e.rules.split(/\s*\|\s*/g),l=0,o=a.length;l<o&&t;l++){var u=a[l],d=/^(.+?)\((.+)\)$/.exec(u),c="";d&&(u=d[1],c=d[2]),!n&&i||("function"==typeof f[u]&&(f[u].apply(this,[e,c])||(t=!1)),this.errors[e.name]={el:e.el,name:e.name,rule:u},t||(this.errors[e.name].message=function(){var t=e.messages?e.messages.split(/\s*\|\s*/g)[l]:"",r=e.value&&e.value.replace(/</g,"&lt;").replace(/>/g,"&gt;");return t?t.replace(/\{\{\s*value\s*\}\}/g,r).replace(/\{\{\s*param\s*\}\}/g,c):t}()),r=this.errors[e.name])}return t&&delete this.errors[e.name],e.el?(r&&(r.errorClass=s(e.el)?"valid-label-error":"valid-error",r.messageId="valid_error_"+(e.id||e.name)),t?this._removeErrorMessage(r):this._addErrorPlacement(r),t):t},_updateField:function(e){if(this.body)return void(e.value=this.body[e.name]);var t=e.el;t?(e.id=t.id,e.type=t.length>0?t[0].type:t.type,e.value=l(t,"value"),e.checked=l(t,"checked")):(e.id=null,e.el=null,e.type=null,e.value=null,e.checked=null)},_removeErrorMessage:function(e){if(e&&e.el){if(e.el.length)for(var t=0,r=e.el.length;t<r;t++)d(e.el[t],e.errorClass);else d(e.el,e.errorClass);var n=document.getElementById(e.messageId);n&&n.parentNode.removeChild(n)}},_addErrorPlacement:function(e){if(e&&e.el){if(this._removeErrorMessage(e),e.el.length)for(var t=0,r=e.el.length;t<r;t++)u(e.el[t],e.errorClass);else u(e.el,e.errorClass);var n=document.createElement("em");u(n,e.errorClass+"-message"),n.setAttribute("id",e.messageId),n.innerHTML=e.message,"object"==typeof this.options&&"function"==typeof this.options.errorPlacement?this.options.errorPlacement(n,e.el):e.el.length||e.el.parentNode.appendChild(n)}}},h});

