/*! validator.js v1.0.1 | Apache License 2 (c) 2016 LMY | https://github.com/MinJieLiu/validator.js */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Validator=e()}}(function(){function e(e){return e.replace(/\_([a-z])/g,function(e,t){return t.toUpperCase()})}function t(e,t){var r,n;{if(!(e.length>0)||"radio"!==e[0].type&&"checkbox"!==e[0].type)return e[t];for(r=0,n=e.length;n>r;r++)if(e[r].checked)return e[r][t]}}function r(e){return"object"==typeof e?e:document.forms[e]}function n(e){if(!e.match(s.date))return!1;var t,r=new Date;return t=e.split("-"),r.setFullYear(t[0]),r.setMonth(t[1]-1),r.setDate(t[2]),r}function i(e){return"string"==typeof e?e:e.value}var s={rule:/^(.+?)\((.+)\)$/,numeric:/^[0-9]+$/,integer:/^\-?[0-9]+$/,decimal:/^\-?[0-9]*\.?[0-9]+$/,email:/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,ip:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])((\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){3}|(\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){5})$/,tel:/^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,phone:/^((\+?[0-9]{1,4})|(\(\+86\)))?(13[0-9]|14[57]|15[012356789]|17[0678]|18[0-9])\d{8}$/,abc:/^[a-zA-Z0-9_]*$/,url:/[a-zA-z]+:\/\/[^\s]/,date:/^\d{4}-\d{1,2}-\d{1,2}$/},a={is_numeric:function(e){return s.numeric.test(i(e))},is_integer:function(e){return s.integer.test(i(e))},is_decimal:function(e){return s.decimal.test(i(e))},is_email:function(e){return s.email.test(i(e))},is_ip:function(e){return s.ip.test(i(e))},is_tel:function(e){return s.tel.test(i(e))},is_phone:function(e){return s.phone.test(i(e))},is_abc:function(e){return s.abc.test(i(e))},is_url:function(e){return s.url.test(i(e))},is_date:function(e){var t=i(e);if(s.date.test(t)){t=t.split("-");var r=parseInt(t[0],10),n=parseInt(t[1],10),a=parseInt(t[2],10);if(1>r||r>9999||1>n||n>12)return!1;var o=[31,28,31,30,31,30,31,31,30,31,30,31];return(r%400===0||r%100!==0&&r%4===0)&&(o[1]=29),!(1>a||a>o[n-1])}return!1},required:function(e){var t=i(e);return"checkbox"===e.type||"radio"===e.type?e.checked===!0:null!==t&&""!==t},greater_than:function(e,t){return s.decimal.test(e.value)?parseFloat(e.value)>parseFloat(t):!1},less_than:function(e,t){return s.decimal.test(e.value)?parseFloat(e.value)<parseFloat(t):!1},max_length:function(e,t){return s.numeric.test(t)?i(e).length<=parseInt(t,10):!1},min_length:function(e,t){return s.numeric.test(t)?i(e).length>=parseInt(t,10):!1},greater_than_date:function(e,t){var r=n(e.value),i=n(t);return i&&r?r>i:!1},less_than_date:function(e,t){var r=n(e.value),i=n(t);return i&&r?i>r:!1}},o=function(t,n){for(var i in a)this[e(i)]=a[i];if(this.options=n||{},this.form=r(t)||{},this.errors={},this.fields={},this.handles={},!t)return this;var s="object"==typeof n.fields?n.fields:{};for(var o in s){var l=s[o];l.rules?this._addField(o,l):console.warn(l)}this.form.onchange=function(e){return function(t){try{return e._validateField(e.fields[t.target.name])}catch(r){}}}(this);var u=this.form.onsubmit;this.form.onsubmit=function(e){return function(t){try{return e.validate(t)&&(void 0===u||u())}catch(r){}}}(this)};return o.prototype={validate:function(e){this.handles.ok=!0,this.handles.evt=e,this.errors={};for(var t in this.fields)if(this.fields.hasOwnProperty(t)){var r=this.fields[t];this._validateField(r)}return this.errors&&(e&&e.preventDefault?e.preventDefault():event&&(event.returnValue=!1)),"object"==typeof this.options&&"function"==typeof this.options.callback&&this.options.callback(this.errors,e),this},_validateField:function(e){var r=this.form[e.name],n=!1;r&&void 0!==r&&(e.id=t(r,"id"),e.el=r,e.type=r.length>0?r[0].type:r.type,e.value=t(r,"value"),e.checked=t(r,"checked"));var o=-1!==e.rules.indexOf("required"),l=!i(e)||""===i(e)||void 0===i(e),u=e.rules.split(/\s*\|\s*/g);delete this.errors[e.name];for(var d=0,f=u.length;f>d&&!n;d++){var c=u[d],h=s.rule.exec(c),p=null;if(h&&(c=h[1],p=h[2]),(o||!l)&&("function"==typeof a[c]&&(a[c].apply(this,[e,p])||(n=!0)),n)){for(var m,v=function(){return e.message.split(/\s*\|\s*/g)[d]&&e.message.split(/\s*\|\s*/g)[d].replace("{{"+e.name+"}}",e.value)}(),_=0,g=this.errors.length;g>_;_+=1)e.el===this.errors[_].el&&(m=this.errors[_]);var y=m||{el:e.el,name:e.name,message:v,rule:c};m||(this.errors[e.name]=y)}}return n?this._addErrorPlacement(e):this._removeErrorMessage(e),this},_addField:function(e,t){this.fields[e]={name:e,message:t.message,rules:t.rules,id:null,el:null,type:null,value:null,checked:null}},_removeErrorMessage:function(e){var t=document.getElementById("valid_error_"+e.name);t&&t.parentNode.removeChild(t)},_addErrorPlacement:function(e){if(this.errors[e.name]){this._removeErrorMessage(e);var t=document.createElement("em");t.classList.add("valid-error"),t.setAttribute("id","valid_error_"+e.name),t.innerHTML=this.errors[e.name].message,"object"==typeof this.options&&"function"==typeof this.options.errorPlacement?this.options.errorPlacement(t,e.el):e.el.length||e.el.parentNode.appendChild(t)}}},o});

